ext.flavorConfig = {

    flavorDimensions "default"
    productFlavors {
        qa {
            isDefault true
            dimension "default"
            ext.myApplicationIdSuffix = ".qa"
            versionNameSuffix '-QA'
            buildConfigField "String", "BERKUT_BASE_URL", '"https://berkut-mobile-app-production.up.railway.app/"'
            manifestPlaceholders = [
                    resourceSuffix      : "_qa",
            ]
        }
        production {
            dimension "default"
            buildConfigField "String", "BERKUT_BASE_URL", '"https://berkut-mobile-app-production.up.railway.app/"'
            manifestPlaceholders = [
                    resourceSuffix      : "",
            ]
        }
    }

    productFlavors.all { flavor ->
        if (flavor.hasProperty('myApplicationIdSuffix') && isApplicationProject()) {
            flavor.applicationIdSuffix = flavor.myApplicationIdSuffix
        }
    }
}

def isApplicationProject() {
    return project.android.class.simpleName.startsWith('BaseAppModuleExtension')
}